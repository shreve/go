#!/usr/bin/env ruby

require 'json'

project_root = File.expand_path('./')
output_path = File.expand_path('./docs')
template = File.read(File.join(project_root, 'template.html'))
database = File.read(File.join(project_root, 'links.json'))
database = JSON.parse(database)

database.each_pair do |code, url|
  File.open(File.join(output_path, "#{code}.html"), 'w+') do |file|
    file.write template.gsub('{{url}}', url)
  end
end
